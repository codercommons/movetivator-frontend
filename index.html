<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- Moralis SDK -->
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="https://unpkg.com/moralis/dist/moralis.js"></script>

    <!-- Web 3 script -->
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>

  <title>Movetivator</title>
  </head>
  <body>
    <!-- Navbar -->

    <nav class="navbar navbar-expand-lg navbar-dark bg-primary px-5">
      <div class="container-fluid">
        <a class="navbar-brand text-light" href="#">Movetivator</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
          <div class="navbar-nav .text-light">
            <a class="nav-link px-3" aria-current="page" href="#">Home</a>
            <a class="nav-link px-3" href="#how-it-works">How it Works</a>
            <a class="nav-link px-3" href="#team">Meet the Team</a>
            <a class="nav-link px-3">Login</a>
          </div>
        </div>
      </div>
    </nav>
    <!-- /Navbar -->

    <!-- Hero start -->
    <div class="container">
      <div class="row align-items-center text-center">
        <div class="col-md container">
          <img src="./assets/img/hero-img.png" alt="" class="img-fluid d-none d-md-block">
        </div>
        <div class="col-md container">
          <img src="./assets/img/brand.png" alt="" class="img-fluid">
          <h3 class="text-muted">Get Paid to Run</h3>
        </div>
      </div>
    </div>
    <!-- /Hero -->
    <!-- Section-1 -->
    <div class="container my-5 text-center">
      <h3 class="text-muted">Introducing Movetivator</h3>
      <p class="text-muted">Enjoy a savings account that motivates you to exercise. Get paid to Run! No More wasted gym membership fees. Get what you put in. Log in miles on a running app and get access to your saving account!!</p>
    </div>
    <!-- /Section-1 -->

    <!-- Section-2 -->
    <div class="container my-5">
      <div class="row align-items-center text-center">
        <div class="col-md container">
          <h3 class="text-muted">Earn Interest on your Savings</h3>
          <p class="text-muted">Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita voluptate ad nulla ullam, consequuntur quasi dignissimos repudiandae ratione tempore sapiente vel laboriosam corrupti eius alias veritatis quia tenetur odio esse?</p>
        </div>
        <div class="col-md container">
          <img src="./assets/img/interest.png" alt="" class="img-fluid d-none d-md-block">
        </div>
      </div>
    </div>
    <!-- /Section -->

    <!-- Section-3 -->
    <div class="container my-5" id="how-it-works">
      <div class="row align-items-center text-center">
        <div class="col-md container">
          <img src="./assets/img/treadmill.png" alt="" class="img-fluid d-none d-md-block">
        </div>
        <div class="col-md container">
          <h3 class="text-muted">How it Works</h3>
          <p class="text-muted">To create an exercise application that utilizes blockchain and Chainlink. This will be an app to incentivise people to exercise, with savings and reward features. For example there is a $25 monthly fee, every month $25 goes into the smart contract and builds the savings. The only way to access the money is to exercise and log your run on a running app. The data from the running app will be used to release the funds from the exercise savings account.</p>
        </div>
      </div>
    </div>

    <div class="sign-in" style="display: flex; justify-content: center; align-content: center;">
      <button onclick="printNumber();" class="btn btn-primary" type="button" style="width: 200px; margin-right: 50px;">Get number</button>
      <button onclick="changeNumber();" class="btn btn-primary" type="button" style="width: 200px;">Change number</button>
      Status: <span id="status">Loading...</span>
    </div>
    <!-- /Section -->

    <!-- signup form -->
<!-- <hr> -->
<div class="row py-4 text-muted mx-5" style="border-top: solid rgb(173, 171, 171) 2px; margin-top: 50px;">
  <div class="col-md pe-5">
    <p><strong>About Movetivator</strong></p>
    <p>Movetivator is a 2021 Chainlink Hackathon project. It is a exercise motivation app utilizing blockchain technology.</p>
  </div>
  <!--
  <div class="col-md">
    <p><strong>Stay up-to-date</strong></p>
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Email">
      <span class="input-group-btn">
        <button class="btn btn-primary" type="button">Sign up</button>
      </span>
    </div>
  </div>
</div>
<hr>/signup form -->

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <!-- <script src="./index.js"></script>
    <script src="./main.js"></script> -->
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->

    <script type="text/javascript">

      //validates metamask wallet in browser
      async function loadWeb3() {
        if(window.ethereum) {
          window.web3 = new Web3(window.ethereum);
          window.ethereum.enable();
        }
      }

      //loads Contract constructor, with the DAPP ABI and address and parameters
      //where the ABI says "name" is a method that can be called from the contract
      //there are two methods, changenumber and getnumber
        async function loadContract() {
          return await new window.web3.eth.Contract([
              {
                  "inputs": [
                      {
                          "internalType": "uint256",
                          "name": "_num",
                          "type": "uint256"
                      }
                  ],
                  "name": "changenumber",
                  "outputs": [],
                  "stateMutability": "nonpayable",
                  "type": "function"
              },
              {
                  "inputs": [],
                  "name": "getnumber",
                  "outputs": [
                      {
                          "internalType": "uint256",
                          "name": "",
                          "type": "uint256"
                      }
                  ],
                  "stateMutability": "view",
                  "type": "function"
              }
          ], '0x7b92f5c66411ebbba2446b03dfa92155f5f0dc84');
        }

        //calls printnumber from ABI and pushes to the web app
        async function printNumber() {
          updateStatus('Fetching generated number...');
          const printNumber = await window.contract.methods.getnumber().call();
          updateStatus(`number: ${printNumber}`);
        }

        //function only runs once metamask is connected
        async function load() {
          await loadWeb3();
          window.contract = await loadContract();
          updateStatus('Ready');
        }

        //relays the status of loading the web3 wallet
        function updateStatus(status) {
          const statusEl = document.getElementById('status');
          statusEl.innerHTML = status;
          console.log(status);
        }
        
        //starts the function that intializes wallet connection
        load();

    </script>

  </body>
</html>